<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>tt</h:head>
<!--<h:body>-->
<h:body>
    <f:view>


        <h:form id="notifyForm">
            <!--<p:remoteCommand name="updateList" update="mytest" process="@this" />-->
            <h:panelGroup>
                <h:outputLabel value="Channel"/>
                <p:inputText value="#{notificationView.ch}"/>
                <p:inputText value="#{notificationView.msg}"/>
                <p:commandButton value="tt" action="#{notificationView.notifySend}" update=":notifyForm"/>
            </h:panelGroup>

        </h:form>

        <p:socket onMessage="handleMessage1" channel="/notify/ch1" />
        <p:socket onMessage="handleMessage2" channel="/notify/ch2" />


    </f:view>
    <script type="text/javascript">
        function handleMessage1(chatMessageVM) {
            alert("this is 1" +  chatMessageVM.fromUser + ':' + chatMessageVM.toUser + ':' + chatMessageVM.message);

        }
        function handleMessage2(chatMessageVM) {
            alert("this is 2" +  chatMessageVM.fromUser + ':' + chatMessageVM.toUser + ':' + chatMessageVM.message);
        }
    </script>
</h:body>

</html>